{"version":3,"sources":["../../modules/donor.js"],"names":["mongoose","BloodGroup","donorSchema","schema","require","firstName","type","String","required","lowercase","lastName","phone","email","location","geoLong","Number","geoLat","bloodGroup","bloodGroupSchema","data","lastDonation","Schema","index","set","virtuals","module","exports"],"mappings":";;AAAA;;;;AAKA,IAAIA,iBAAJ;AAAA,IAAcC,mBAAd;AAAA,IAA0BC,oBAA1B;AAAA,IAAuCC,eAAvC;;AAEAH,WAAWI,QAAQ,UAAR,CAAX;AACAH,aAAaG,QAAQ,cAAR,CAAb;;AAEAF,cAAc;AACbG,YAAW;AACVC,QAAMC,MADI;AAEVC,YAAU,IAFA;AAGVC,aAAW;AAHD,EADE;AAMbC,WAAU;AACTJ,QAAMC,MADG;AAETC,YAAU,IAFD;AAGTC,aAAW;AAHF,EANG;AAWbE,QAAO;AACNL,QAAMC,MADA;AAENC,YAAU;AAFJ,EAXM;AAgBbI,QAAO;AACNN,QAAMC,MADA;AAENC,YAAU;AAFJ,EAhBM;AAqBbK,WAAU;AACTC,WAAS;AACRR,SAAMS,MADE;AAERP,aAAU;AAFF,GADA;AAKTQ,UAAQ;AACPV,SAAMS,MADC;AAEPP,aAAU;AAFH;AALC,EArBG;AA+BbS,aAAYhB,WAAWiB,gBA/BV;AAgCbC,OAAM;AACLC,gBAAc;AACbd,SAAMS;AADO;AADT;AAhCO,CAAd;;AAwCAZ,SAAS,IAAIH,SAASqB,MAAb,CAAoBnB,WAApB,CAAT;;AAIAC,OAAOmB,KAAP,CAAa,EAACjB,WAAW,MAAZ,EAAb;AACAF,OAAOmB,KAAP,CAAa,EAACZ,UAAU,MAAX,EAAb;AACAP,OAAOmB,KAAP,CAAa,EAAC,oBAAoB,CAArB,EAAb;AACAnB,OAAOmB,KAAP,CAAa,EAAC,mBAAmB,CAApB,EAAb;;AAEAnB,OAAOoB,GAAP,CAAW,UAAX,EAAuB,EAACC,UAAU,IAAX,EAAvB;AACArB,OAAOoB,GAAP,CAAW,QAAX,EAAqB,EAACC,UAAU,IAAX,EAArB;;AAEAC,OAAOC,OAAP,GAAiBvB,MAAjB;AACAsB,OAAOC,OAAP,CAAexB,WAAf,GAA6BA,WAA7B","file":"donor.js","sourcesContent":["/**\n * Created by chrisp on 23/12/2016.\n */\n\n\nlet mongoose, BloodGroup, donorSchema, schema;\n\nmongoose = require(\"mongoose\");\nBloodGroup = require(\"./bloodgroup\");\n\ndonorSchema = {\n\tfirstName: {\n\t\ttype: String,\n\t\trequired: true,\n\t\tlowercase: true\n\t},\n\tlastName: {\n\t\ttype: String,\n\t\trequired: true,\n\t\tlowercase: true\n\t},\n\tphone: {\n\t\ttype: String,\n\t\trequired: true,\n        // match: \"/^+/d{10}\"\n\t},\n\temail: {\n\t\ttype: String,\n\t\trequired: true,\n        // match:\n\t},\n\tlocation: {\n\t\tgeoLong: {\n\t\t\ttype: Number,\n\t\t\trequired: true\n\t\t},\n\t\tgeoLat: {\n\t\t\ttype: Number,\n\t\t\trequired: true\n\t\t}\n\t},\n\tbloodGroup: BloodGroup.bloodGroupSchema,\n\tdata: {\n\t\tlastDonation: {\n\t\t\ttype: Number\n\t\t}\n\t}\n};\n\n\nschema = new mongoose.Schema(donorSchema);\n\n\n\nschema.index({firstName: \"text\"});\nschema.index({lastName: \"text\"});\nschema.index({\"location.geoLong\": 1});\nschema.index({\"location.geoLat\": 1});\n\nschema.set(\"toObject\", {virtuals: true});\nschema.set(\"toJSON\", {virtuals: true});\n\nmodule.exports = schema;\nmodule.exports.donorSchema = donorSchema;\n"]}