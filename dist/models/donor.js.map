{"version":3,"sources":["../../models/donor.js"],"names":["mongoose","BloodGroup","donorSchema","schema","require","firstName","type","String","required","lowercase","lastName","phone","match","email","location","geoLong","Number","geoLat","bloodGroup","bloodGroupSchema","data","lastDonation","Schema","index","set","virtuals","module","exports"],"mappings":";;AAAA;;;;AAKA,IAAIA,iBAAJ;AAAA,IAAcC,mBAAd;AAAA,IAA0BC,oBAA1B;AAAA,IAAuCC,eAAvC;;AAEAH,WAAWI,QAAQ,UAAR,CAAX;AACAH,aAAaG,QAAQ,cAAR,CAAb;;AAEAF,cAAc;AACbG,YAAW;AACVC,QAAMC,MADI;AAEVC,YAAU,IAFA;AAGVC,aAAW;AAHD,EADE;AAMbC,WAAU;AACTJ,QAAMC,MADG;AAETC,YAAU,IAFD;AAGTC,aAAW;AAHF,EANG;AAWbE,QAAO;AACNL,QAAMC,MADA;AAENC,YAAU,IAFJ;AAGNI,SAAO;AAHD,EAXM;AAgBb;AACA;AACA;AACA;AACAC,QAAO;AACNP,QAAMC,MADA;AAENC,YAAU,IAFJ;AAGNI,SAAO;AAHD,EApBM;AAyBb;AACA;AACAE,WAAU;AACTC,WAAS;AACRT,SAAMU,MADE;AAERR,aAAU;AAFF,GADA;AAKTS,UAAQ;AACPX,SAAMU,MADC;AAEPR,aAAU;AAFH;AALC,EA3BG;AAqCbU,aAAYjB,WAAWkB,gBArCV;AAsCbC,OAAM;AACLC,gBAAc;AACbf,SAAMU;AADO;AADT;AAtCO,CAAd;;AA8CAb,SAAS,IAAIH,SAASsB,MAAb,CAAoBpB,WAApB,CAAT;;AAIAC,OAAOoB,KAAP,CAAa,EAAClB,WAAW,MAAZ,EAAb;AACAF,OAAOoB,KAAP,CAAa,EAACb,UAAU,MAAX,EAAb;AACAP,OAAOoB,KAAP,CAAa,EAAC,oBAAoB,CAArB,EAAb;AACApB,OAAOoB,KAAP,CAAa,EAAC,mBAAmB,CAApB,EAAb;;AAEApB,OAAOqB,GAAP,CAAW,UAAX,EAAuB,EAACC,UAAU,IAAX,EAAvB;AACAtB,OAAOqB,GAAP,CAAW,QAAX,EAAqB,EAACC,UAAU,IAAX,EAArB;;AAEAC,OAAOC,OAAP,GAAiBxB,MAAjB;AACAuB,OAAOC,OAAP,CAAezB,WAAf,GAA6BA,WAA7B","file":"donor.js","sourcesContent":["/**\n * Created by chrisp on 23/12/2016.\n */\n\n\nlet mongoose, BloodGroup, donorSchema, schema;\n\nmongoose = require(\"mongoose\");\nBloodGroup = require(\"./bloodgroup\");\n\ndonorSchema = {\n\tfirstName: {\n\t\ttype: String,\n\t\trequired: true,\n\t\tlowercase: true\n\t},\n\tlastName: {\n\t\ttype: String,\n\t\trequired: true,\n\t\tlowercase: true\n\t},\n\tphone: {\n\t\ttype: String,\n\t\trequired: true,\n\t\tmatch: \"^(([\\\\+]?(256))|0)?7\\\\(?([8|7|5|0|1|3|9])\\\\)?[-. ]?([0-9]{4})[-. ]?([0-9]{3})$\"\n\t},\n\t// +256 78-5245-009\n\t// 25678 5245 009\n\t// 078 5245 009\n\t// 78 5245 009\n\temail: {\n\t\ttype: String,\n\t\trequired: true,\n\t\tmatch: \"/.+@.+\\..+/\"\n\t},\n\t// onyanchachrispinus@gmail.com\n\t// vvvv@jjjj.oo\n\tlocation: {\n\t\tgeoLong: {\n\t\t\ttype: Number,\n\t\t\trequired: true\n\t\t},\n\t\tgeoLat: {\n\t\t\ttype: Number,\n\t\t\trequired: true\n\t\t}\n\t},\n\tbloodGroup: BloodGroup.bloodGroupSchema,\n\tdata: {\n\t\tlastDonation: {\n\t\t\ttype: Number\n\t\t}\n\t}\n};\n\n\nschema = new mongoose.Schema(donorSchema);\n\n\n\nschema.index({firstName: \"text\"});\nschema.index({lastName: \"text\"});\nschema.index({\"location.geoLong\": 1});\nschema.index({\"location.geoLat\": 1});\n\nschema.set(\"toObject\", {virtuals: true});\nschema.set(\"toJSON\", {virtuals: true});\n\nmodule.exports = schema;\nmodule.exports.donorSchema = donorSchema;\n"]}